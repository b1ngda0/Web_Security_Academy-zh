---
description: '原文链接：https://portswigger.net/web-security/authentication'
---

# 认证漏洞

至少从概念上讲，认证漏洞是一些最容易理解的问题。然而，由于认证和安全之间的明显关系，它们可能是最关键的问题之一。除了可能允许攻击者直接访问敏感数据和功能外，它们还暴露了其他攻击面以供进一步利用。因此，学习如何识别和利用认证漏洞（包括如何绕过常见的保护措施）是一项基本技能。

在本节中，我们将研究网站使用的一些最常见的认证机制，并讨论其中的潜在漏洞。我们将着重介绍不同认证机制的固有漏洞，以及一些因实施不当而引入的典型漏洞。最后，我们将提供一些基本指导，告诉你如何确保自己的认证机制尽可能的可靠。

![](../../.gitbook/assets/password-reset-poisoning.svg)

与往常一样，我们为你创建了一些交互的实验室，以练习利用其中的一些漏洞。如果你已经熟悉这个主题，你可以直接跳进实验室来测试你的技能。

{% hint style="warning" %}
实验：[认证实验](https://portswigger.net/web-security/all-labs#authentication)
{% endhint %}

### 什么是认证？

认证是核实给定用户或客户身份的过程。换句话说，它涉及确保他们真的是他们声称的人。至少在某种程度上，网站在设计上是暴露给任何连接到互联网的人面前的。因此，强大的认证机制是有效的 Web 安全一个组成部分。

有三种认证因素，不同类型的认证可以被分类到这三种因素中：

* 你所**知道**的东西，如密码或安全问题的答案。这些有时被称为"知识因素"（knowledge factors）。
* 你所**拥有**的东西，也就是像手机或安全令牌这样的实物。这些有时被称为"持有因素"（possession factors）。
* 你**是**什么或干什么事，例如，你的生物特征或行为模式。这些有时被称为"属性因素"（inherence factors）。

认证机制依靠一系列技术来验证这些因素中的一个或多个。

### 认证和授权有什么区别？

认证是验证一个用户是否真的**是他们声称的那个人**的过程，而授权则是验证用户是否**被允许做某事**。

在一个网站或 Web 应用程序的背景下，认证决定了试图使用`Carlos123`用户名访问网站的人是否真的是创建该账户的同一个人。

一旦`Carlos123`通过认证，他的权限就决定了他是否被授权，例如，他可以访问其他用户的个人信息，或者执行删除其他用户账户等操作。

### 认证漏洞是如何产生的？

广义上讲，认证机制中的大多数漏洞都是通过以下两种方式之一产生的。

* 认证机制很弱，因为它们不能充分防止蛮力攻击。
* 在实施过程中存在逻辑缺陷或不良编码，允许攻击者完全绕过认证机制。这有时被称为"破损的认证"。

在 Web 开发的许多领域，逻辑缺陷会简单地导致网站的行为出乎意料，这可能是也可能不是一个安全问题。然而，由于认证对安全至关重要，有缺陷的认证逻辑会使网站暴露安全问题的可能性明显提高。

### 认证漏洞有什么影响？

认证漏洞的影响可能是非常严重的。一旦攻击者绕过了认证或以暴力手段进入另一个用户的账户，他们就可以访问被入侵账户的所有数据和功能。如果他们能够入侵一个高权限的账户（如系统管理员），他们就可以完全控制整个应用程序，并有可能获得对内部基础设施的访问。

即使入侵一个低权限的账户，也可能让攻击者访问他们不应该拥有的数据，如商业上敏感的商业信息。即使该账户不能访问任何敏感数据，它仍然可能允许攻击者访问更多的页面，从而提供了进一步的攻击面。通常情况下，某些高严重性的攻击不可能从公开访问的页面进行，可能是从内部页面进行的。

### 认证机制的漏洞

一个网站的认证系统通常由几个不同的机制组成，这些机制可能会出现漏洞。有些漏洞广泛适用于所有的情况，而另一些漏洞则更多地针对所提供的功能。

我们将更仔细地研究以下几个方面的一些最常见漏洞。

* [基于密码登陆中的漏洞](https://portswigger.net/web-security/authentication/password-based) `实验`
* [多因素认证中的漏洞](https://portswigger.net/web-security/authentication/multi-factor) `实验`
* [其他认证机制中的漏洞](https://portswigger.net/web-security/authentication/other-mechanisms) `实验`

请注意，有几个实验需要你枚举用户名和暴力破解密码。为了帮助你完成这个过程，我们提供了一个候选[用户名](https://portswigger.net/web-security/authentication/auth-lab-usernames)和[密码](https://portswigger.net/web-security/authentication/auth-lab-passwords)的短名单，你应该用它们来解决这些实验。

### 第三方认证机制中的漏洞

如果你喜欢 hack 认证机制，在完成我们主要的认证实验后，更多的高级用户可能会想尝试并解决我们的 OAuth 认证实验。

> **阅读更多**
>
> {% page-ref page="../../2-advanced-topics/5-oauth/1-oauth.md" %}

### 防止你自己的认证机制被攻击

我们已经展示了几种网站由于如何实现认证而容易受到攻击的方式。为了减少你自己的网站受到这种攻击的风险，有几个一般原则是你应该始终努力遵循的。

> **阅读更多**
>
> {% page-ref page="5-securing.md" %}

